---
title: "Data Management"
description: "Manage game data with gx402 SDK"
icon: "database"
---

# Data Management

The gx402 SDK provides robust data management capabilities for game state, user profiles, and persistent storage across all platforms.

## Overview

gx402's data management system offers:
- Cross-platform data synchronization
- Offline-first data storage
- Secure data encryption
- Efficient data querying and indexing

## Data Models

### Defining Data Models

Create structured data models for your game:

```javascript
const playerModel = {
  id: 'string',
  name: 'string',
  level: 'number',
  inventory: 'array',
  achievements: 'array',
  stats: {
    health: 'number',
    score: 'number',
    xp: 'number'
  }
};

// Register the model with gx402
gx402.registerModel('player', playerModel);
```

### Complex Data Relationships

```javascript
const gameModel = {
  id: 'string',
  name: 'string',
  players: ['player'],  // Array of player references
  world: {
    id: 'string',
    name: 'string',
    entities: 'array'
  }
};

gx402.registerModel('game', gameModel);
```

## Data Storage Options

### Local Storage
For offline-capable games:

```javascript
// Store data locally with automatic sync
gx402.setDataStorage('local', {
  engine: 'indexeddb',  // or 'sqlite', 'realm'
  encryption: true,
  maxSize: '100MB'
});

// Save player data
gx402.saveLocal('player', playerData)
  .then(id => console.log('Saved with ID:', id));
```

### Remote Storage
For cloud-synced games:

```javascript
// Configure remote storage
gx402.setDataStorage('remote', {
  endpoint: 'https://api.gx402.com/data',
  auth: 'bearer-token'
});

// Save and sync data
gx402.saveRemote('game-state', gameState)
  .then(result => console.log('Synced:', result));
```

## CRUD Operations

### Create
```javascript
// Create new data
const newPlayer = await gx402.create('player', {
  name: 'Player1',
  level: 1,
  stats: { health: 100, score: 0 }
});
```

### Read
```javascript
// Read specific data
const player = await gx402.get('player', playerId);

// Query data
const highLevelPlayers = await gx402.query('player', {
  where: { level: { $gte: 10 } },
  limit: 10,
  orderBy: { level: 'desc' }
});
```

### Update
```javascript
// Update data
await gx402.update('player', playerId, {
  $inc: { score: 100 },
  $set: { lastPlayed: new Date() }
});
```

### Delete
```javascript
// Delete data
await gx402.delete('player', playerId);
```

## Data Synchronization

### Sync Strategies
```javascript
// Configure sync behavior
gx402.configureSync({
  strategy: 'merge',     // 'replace', 'merge', 'custom'
  conflictResolution: 'last-write-wins'
});

// Custom conflict resolution
gx402.on('sync-conflict', (conflict) => {
  const resolved = customMerge(conflict.local, conflict.remote);
  return resolved;
});
```

### Real-time Updates
```javascript
// Subscribe to data changes
gx402.subscribe('player', playerId, (updatedPlayer) => {
  console.log('Player updated:', updatedPlayer);
});

// Batch updates
gx402.batch([
  { operation: 'update', model: 'player', id: id1, data: data1 },
  { operation: 'create', model: 'item', data: itemData }
]);
```

## Data Validation

### Schema Validation
```javascript
// Define validation rules
const playerSchema = {
  name: { type: 'string', required: true, minLength: 3, maxLength: 20 },
  level: { type: 'number', required: true, min: 1, max: 100 },
  inventory: { 
    type: 'array', 
    items: { type: 'string' },
    maxItems: 50
  }
};

gx402.registerSchema('player', playerSchema);
```

### Custom Validation
```javascript
// Add custom validation
gx402.addValidator('player', (data) => {
  if (data.level > 1 && !data.name.startsWith('VIP_')) {
    return { valid: false, error: 'High-level players need VIP prefix' };
  }
  return { valid: true };
});
```

## Performance Optimization

### Indexing
```javascript
// Create indexes for faster queries
gx402.createIndex('player', ['level', 'score']);
gx402.createIndex('game', ['status', 'createdAt']);
```

### Caching
```javascript
// Configure caching
gx402.configureCache({
  enabled: true,
  maxEntries: 1000,
  ttl: 300000 // 5 minutes
});

// Cache specific queries
const cachedPlayers = await gx402.query('player', {
  where: { level: { $gte: 50 } }
}, { cache: true });
```

## Data Migration

### Schema Migration
```javascript
// Define migration scripts
const migrations = [
  {
    version: 1,
    up: (oldData) => {
      // Migration logic from v0 to v1
      return { ...oldData, version: 1, newField: 'default' };
    }
  },
  {
    version: 2,
    up: (oldData) => {
      // Migration logic from v1 to v2
      const newData = { ...oldData };
      newData.complexStats = {
        health: oldData.health,
        score: oldData.score
      };
      delete newData.health;
      delete newData.score;
      newData.version = 2;
      return newData;
    }
  }
];

gx402.registerMigrations(migrations);
```

## Security and Encryption

### Data Encryption
```javascript
// Configure encryption
gx402.configureEncryption({
  algorithm: 'aes-256-gcm',
  keyRotation: 86400000, // Rotate keys daily
  fieldsToEncrypt: ['player.name', 'player.email']
});
```

### Access Control
```javascript
// Define access permissions
gx402.setAccessControl('player', {
  read: 'public',
  write: 'owner',
  delete: 'admin'
});
```

## Monitoring and Analytics

### Data Metrics
```javascript
// Get data usage metrics
const metrics = gx402.getDataMetrics();
console.log('Storage usage:', metrics.storageUsed);
console.log('Query performance:', metrics.queryStats);
```

## Best Practices

- Use appropriate data models for your game's needs
- Implement proper validation to maintain data integrity
- Optimize queries with proper indexing
- Handle data migration gracefully
- Encrypt sensitive information
- Monitor data usage for performance optimization

## Resources

- [Data API Reference](/api-reference/data-api)
- [Data Management Examples](https://github.com/gx402/data-examples)
- [Schema Design Guide](/features/schema-design)